<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <script src="https://cdn.rawgit.com/jeromeetienne/AR.js/2.0.8/aframe/build/aframe-ar.js"></script> 
    <script src="https://libs.zapper.com/zapper-aframe/0.0.35/zapper-aframe.js"></script>
    <title>connex Necklace AR </title>

    <style>
        html, 
        body {
            height: 100%;
            width: 100%;
            margin: 0;
            overflow: hidden;
        }
    </style>

</head>

<body>
    <a-scene>
        <a-assets>
            <a-asset-item id="face-occluder" src="face_occluder.glb"></a-asset-item>
            <a-asset-item id="necklace" src="necklace.glb"></a-asset-item>
        </a-assets>

        <!-- Specify facingMode attribute to use the front camera -->
        <a-entity camera zappar-camera="facingMode: user"></a-entity>

        <!-- Load the face occluder model -->
        <a-entity gltf-model="#face-occluder" zappar-face-occluder></a-entity>

        <a-entity id="face-group" zappar-face>
            <!-- Place 3D object to track from the center of the face -->
            <a-entity gltf-model="#necklace" position="0 -0.01 -0.1" scale="0.08 0.08 0.08" rotation="0 90 0"></a-entity>

            <!-- Add animation to move the necklace with the face -->
            <a-animation attribute="position"
                dur="200"
                fill="forwards"
                repeat="indefinite"
                direction="alternate"
                to="0 0 0.1"></a-animation>
        </a-entity>
    </a-scene>

     <!-- Capture Button -->
     <button id="captureButton">Capture</button>

     <script>
         // Get reference to the capture button
         var captureButton = document.getElementById('captureButton');
 
         // Add click event listener to the capture button
         captureButton.addEventListener('click', function() {
             // Capture the current scene or take a screenshot here
             // For example, you can use a library like html2canvas to capture the scene
             // Replace the code below with the actual capture logic
             alert('Capture button clicked! Replace this with your capture logic.');
         });
     </script>
</body>
</html>
